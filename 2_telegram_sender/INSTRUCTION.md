# üì± Telegram Sender - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞ `message.txt` –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π Telegram-—á–∞—Ç —á–µ—Ä–µ–∑ –±–æ—Ç–∞.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install python-telegram-bot python-dotenv colorama
```

–ò–ª–∏ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:
```bash
pip install -r requirements.txt
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞

1. **–û—Ç–∫—Ä–æ–π Telegram** –∏ –Ω–∞–π–¥–∏ –±–æ—Ç–∞ **@BotFather**

2. **–°–æ–∑–¥–∞–π –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞:**

/newbot

3. **–°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:**
   - –ü—Ä–∏–¥—É–º–∞–π –∏–º—è –¥–ª—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `Polza Test Bot`)
   - –ü—Ä–∏–¥—É–º–∞–π username (–Ω–∞–ø—Ä–∏–º–µ—Ä: `polza_test_bot`)
   - Username –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`

4. **–°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω** –∫–æ—Ç–æ—Ä—ã–π –¥–∞—Å—Ç BotFather

–§–æ—Ä–º–∞—Ç: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

### –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID

**–í–∞—Ä–∏–∞–Ω—Ç 1 (–ø—Ä–æ—Å—Ç–æ–π):**
1. –ù–∞–π–¥–∏ –≤ Telegram –±–æ—Ç–∞ **@userinfobot**
2. –û—Ç–ø—Ä–∞–≤—å –µ–º—É `/start`
3. –û–Ω –ø–æ–∫–∞–∂–µ—Ç —Ç–≤–æ–π `Id` - —ç—Ç–æ –∏ –µ—Å—Ç—å chat_id

**–í–∞—Ä–∏–∞–Ω—Ç 2 (—á–µ—Ä–µ–∑ API):**
1. –ù–∞–ø–∏—à–∏ —Å–≤–æ–µ–º—É –Ω–æ–≤–æ–º—É –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
2. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

https://api.telegram.org/bot<–¢–í–û–ô_–¢–û–ö–ï–ù>/getUpdates

3. –ù–∞–π–¥–∏ `"chat":{"id": –ß–ò–°–õ–û}` - —ç—Ç–æ —Ç–≤–æ–π chat_id

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

1. **–°–∫–æ–ø–∏—Ä—É–π —à–∞–±–ª–æ–Ω:**
```bash
   cp .env.example .env
```

2. **–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª .env** –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

3. **–í—Å—Ç–∞–≤—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ:**
```env
   TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   TELEGRAM_CHAT_ID=123456789
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
```bash
python telegram_sender.py
```

---

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–≤–æ–µ–≥–æ —Ç–µ–∫—Å—Ç–∞

1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `message.txt`
2. –ù–∞–ø–∏—à–∏ –∏–ª–∏ –≤—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–µ–∫—Å—Ç
3. –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç: `python telegram_sender.py`

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown

–¢–µ–∫—Å—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Markdown-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```markdown
*–∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç*
_–∫—É—Ä—Å–∏–≤_
`–∫–æ–¥`
[—Å—Å—ã–ª–∫–∞](https://example.com)
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –≤ message.txt:

üöÄ –í–∞–∂–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –æ—Ç Polza Outreach Engine.
‚úÖ –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: 100 –ø–∏—Å–µ–º
–û—Ç–∫—Ä—ã—Ç–æ: 45%
–û—Ç–≤–µ—Ç–æ–≤: 12

–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

======================================================================
üì± TELEGRAM SENDER - Polza Outreach Engine
üîç –ü—Ä–æ–≤–µ—Ä—è—é –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–æ—Ç—É...
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–æ—Ç—É —É—Å–ø–µ—à–Ω–æ!
Bot username: @polza_test_bot
Bot name: Polza Test Bot
üìÑ –ü—Ä–æ—á–∏—Ç–∞–Ω —Ñ–∞–π–ª: message.txt
üìù –î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: 145 —Å–∏–º–≤–æ–ª–æ–≤
üöÄ –û—Ç–ø—Ä–∞–≤–ª—è—é –≤ Telegram...
‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!
Message ID: 123
Chat ID: 123456789
–î–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞: 145 —Å–∏–º–≤–æ–ª–æ–≤
======================================================================
üéâ –í—Å—ë –≥–æ—Ç–æ–≤–æ! –°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ.

---

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Ç–æ–≤:
```python
chat_ids = ['123456789', '987654321']
for chat_id in chat_ids:
    sender = TelegramSender(bot_token, chat_id)
    await sender.send_from_file('message.txt')
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏:
```python
# –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ
await bot.send_photo(chat_id=chat_id, photo=open('image.jpg', 'rb'))

# –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
await bot.send_document(chat_id=chat_id, document=open('file.pdf', 'rb'))
```

---

## ‚ö†Ô∏è Troubleshooting

### –û—à–∏–±–∫–∞: "Unauthorized"
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –≤ `.env`
- –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫

### –û—à–∏–±–∫–∞: "Chat not found"
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å chat_id
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç—ã –Ω–∞–ø–∏—Å–∞–ª –±–æ—Ç—É —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–µ–ª—ë–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ –≤ Telegram)
- –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

---

## üí° Production-ready –≤–∞—Ä–∏–∞–Ω—Ç—ã

–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### 1. –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π
```python
from queue import Queue
import threading

message_queue = Queue()

def sender_worker():
    while True:
        message = message_queue.get()
        asyncio.run(sender.send_message(message))
```

### 2. Rate Limiting
```python
import time

def rate_limit(calls_per_second=1):
    min_interval = 1.0 / calls_per_second
    # ... implementation
```

### 3. Retry —Å exponential backoff
```python
async def retry(max_attempts=3, delay=1):
    for attempt in range(max_attempts):
        try:
            return await func(*args)
        except:
            await asyncio.sleep(delay * (2 ** attempt))
```